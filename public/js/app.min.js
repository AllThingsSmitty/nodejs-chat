function getName(){var t=window.names[Math.floor(Math.random()*window.names.length)],e=t.split(",");return e.length>1?$.trim(e[1])+" "+$.trim(e[0]):t}function escaped(t){return $("<div></div>").html(t).html()}function searchUrlFor(t){return"https://www.google.com/search?q="+encodeURIComponent(t)+"%20site:wikipedia.org&btnI=3564"}var name=getName();$("#data").attr("placeholder","Send message as "+name);var socket=io.connect("/");socket.on("connect",function(){socket.emit("adduser",name)}),socket.on("updatechat",function(t,e){$("#conversation").append("<b>"+escaped(t)+":</b> "+escaped(e)+"<br>")}),socket.on("updateusers",function(t){$("#users").empty(),$.each(t,function(t,e){$("#users").append('<div><a href="'+searchUrlFor(t)+'" target="_blank">'+t+"</div>")})}),socket.on("servernotification",function(t){var e=searchUrlFor(t.username);t.connected?(t.toSelf&&(t.username="you"),$("#conversation").append('<div class="alert alert-success" role="alert"><b>Connected:</b> <a href="'+e+'" target="_blank">'+escaped(t.username)+"</a></div>")):$("#conversation").append('<div class="alert alert-danger" role="alert"><b>Disconnected:</b> <a href="'+e+'" target="_blank">'+escaped(t.username)+"</a></div>")}),$(function(){$("#data").keypress(function(t){if(13==t.which){var e=$("#data").val();$("#data").val(""),socket.emit("sendchat",e)}})});